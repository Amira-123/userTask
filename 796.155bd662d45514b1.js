"use strict";(self.webpackChunkuser=self.webpackChunkuser||[]).push([[796],{9796:(H,m,r)=>{r.r(m),r.d(m,{TasksModule:()=>U});var T=r(1757),g=r(3870),M=r(7691),p=r(6895),t=r(4650),h=r(529),d=r(1350);let f=(()=>{class n{constructor(e){this.http=e}getAllTasks(e,a){let o=new h.LE;return Object.entries(a).forEach(([s,c])=>{c&&(o=o.append(s,c))}),this.http.get(d.N.baseApi+"/user-tasks/"+e,{params:o})}completeTask(e){return this.http.put(d.N.baseApi+"/complete",e)}getTaskDetails(e){return this.http.get(d.N.baseApi+"/task/"+e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(h.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var P=r(4684),_=r(7185),C=r(4859),l=r(3546),u=r(3081);let I=(()=>{class n{constructor(e,a,o,s,c){this.service=e,this.sharedService=a,this.activatedRoute=o,this.toaster=s,this.route=c,this.storedTheme=localStorage.getItem("theme-color"),this.id=this.activatedRoute.snapshot.params.id}ngOnInit(){this.getTaskDetails(),this.selectThemeColor()}getTaskDetails(){this.service.getTaskDetails(this.id).subscribe(e=>{this.taskDetails=e.tasks})}complete(e){this.service.completeTask({id:e}).subscribe(o=>{this.route.navigate(["/tasks"]),this.toaster.success("complete task successfully","success"),this.route.navigate(["/tasks"])})}selectThemeColor(){this.sharedService.getTheme().subscribe(e=>{this.storedTheme=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f),t.Y36(P.F),t.Y36(g.gz),t.Y36(_._W),t.Y36(g.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-details"]],decls:20,vars:13,consts:[[1,"row"],[1,"pt-5","col-md-6"],[1,"example-card"],["mat-card-image","","alt","",3,"src"],["mat-raised-button","",1,"complete",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"mat-card",2),t._UZ(4,"img",3),t.TgZ(5,"mat-card-header")(6,"mat-card-title"),t._uU(7),t.qZA(),t.TgZ(8,"mat-card-subtitle"),t._uU(9),t.qZA()(),t.TgZ(10,"mat-card-content")(11,"p"),t._uU(12),t.ALo(13,"translate"),t.TgZ(14,"span"),t._uU(15),t.qZA()()(),t.TgZ(16,"mat-card-actions")(17,"button",4),t.NdJ("click",function(){return a.complete(a.taskDetails._id)}),t._uU(18),t.ALo(19,"translate"),t.qZA()()()()()()),2&e&&(t.Gre("content-theme ",a.storedTheme,""),t.xp6(4),t.Q6J("src","https://crudapp-a3y5.onrender.com/"+(null==a.taskDetails?null:a.taskDetails.image),t.LSH),t.xp6(3),t.Oqu(null==a.taskDetails?null:a.taskDetails.title),t.xp6(2),t.Oqu(null==a.taskDetails?null:a.taskDetails.deadline),t.xp6(3),t.Oqu(t.lcZ(13,9,"tasks.description")),t.xp6(3),t.hij(" ",null==a.taskDetails?null:a.taskDetails.description,""),t.xp6(3),t.Oqu(t.lcZ(19,11,"tasks.complete")))},dependencies:[C.lW,l.a8,l.dk,l.dn,l.n5,l.$j,l.hq,l.G2,u.X$],styles:["img[_ngcontent-%COMP%]{height:200px}p[_ngcontent-%COMP%]{font-size:18px;font-weight:500}p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-size:16px}.content-theme.theme-red[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#c62232}.content-theme.theme-red[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#c62232}.content-theme.theme-red[_ngcontent-%COMP%]   .complete[_ngcontent-%COMP%]{background-color:#c62232}.content-theme.theme-green[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#208637}.content-theme.theme-green[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#208637}.content-theme.theme-green[_ngcontent-%COMP%]   .complete[_ngcontent-%COMP%]{background-color:#208637}.content-theme.theme-blue[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#025bdf}.content-theme.theme-blue[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#025bdf}.content-theme.theme-blue[_ngcontent-%COMP%]   .complete[_ngcontent-%COMP%]{background-color:#025bdf}.content-theme.theme-purple[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:purple}.content-theme.theme-purple[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:purple}.content-theme.theme-purple[_ngcontent-%COMP%]   .complete[_ngcontent-%COMP%]{background-color:purple}.content-theme.theme-orange[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#e76b03}.content-theme.theme-orange[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e76b03}.content-theme.theme-orange[_ngcontent-%COMP%]   .complete[_ngcontent-%COMP%]{background-color:#e76b03}"]}),n})();function O(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"mat-card",3)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA()(),t._UZ(7,"img",4),t.TgZ(8,"mat-card-content")(9,"p"),t._uU(10),t.ALo(11,"translate"),t.TgZ(12,"span"),t._uU(13),t.ALo(14,"slice"),t.qZA()()(),t.TgZ(15,"mat-card-actions")(16,"button",5),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"button",6),t.NdJ("click",function(){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.complete(s))}),t._uU(20),t.ALo(21,"translate"),t.qZA()()()()}if(2&n){const e=i.$implicit;t.xp6(4),t.Oqu(e.title),t.xp6(2),t.Oqu(e.deadline),t.xp6(1),t.Q6J("src","https://crudapp-a3y5.onrender.com/"+e.image,t.LSH),t.xp6(3),t.hij("",t.lcZ(11,8,"tasks.description")," "),t.xp6(3),t.hij(" ",t.Dn7(14,10,e.description,0,12),""),t.xp6(3),t.MGl("routerLink","/tasks/",e._id,""),t.xp6(1),t.Oqu(t.lcZ(18,14,"tasks.details")),t.xp6(3),t.Oqu(t.lcZ(21,16,"tasks.complete"))}}const L=[{path:"",component:(()=>{class n{constructor(e,a,o,s){this.service=e,this.sharedService=a,this.toaster=o,this.translate=s,this.storedTheme=localStorage.getItem("theme-color"),this.page=1,this.selectedStatus="In-Progress"}ngOnInit(){this.getuserData(),this.getAllTasks(),this.selectThemeColor()}getuserData(){let e=JSON.stringify(localStorage.getItem("token"));this.userData=JSON.parse(window.atob(e.split(".")[1]))}getAllTasks(){this.service.getAllTasks(this.userData.userId,{page:this.page,limit:10,status:this.selectedStatus}).subscribe(a=>{this.allTasks=a.tasks},a=>{this.allTasks=[]})}complete(e){this.service.completeTask({id:this.allTasks[e]._id}).subscribe(o=>{this.getAllTasks(),this.toaster.success("complete task successfully","success")})}selectThemeColor(){this.sharedService.getTheme().subscribe(e=>{this.storedTheme=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f),t.Y36(P.F),t.Y36(_._W),t.Y36(u.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-tasks"]],decls:3,vars:4,consts:[[1,"row","mt-5"],["class","col-xl-3 col-md-6 mb-5",4,"ngFor","ngForOf"],[1,"col-xl-3","col-md-6","mb-5"],[1,"example-card"],["mat-card-image","","alt","",3,"src"],["mat-raised-button","",1,"details",3,"routerLink"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"div")(1,"div",0),t.YNc(2,O,22,18,"div",1),t.qZA()()),2&e&&(t.Gre("content-theme ",a.storedTheme,""),t.xp6(2),t.Q6J("ngForOf",a.allTasks))},dependencies:[p.sg,g.rH,C.lW,l.a8,l.dk,l.dn,l.n5,l.$j,l.hq,l.G2,p.OU,u.X$],styles:["img[_ngcontent-%COMP%]{height:200px}p[_ngcontent-%COMP%]{font-size:18px;font-weight:500}p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-size:16px}.content-theme.theme-red[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#c62232}.content-theme.theme-red[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#c62232}.content-theme.theme-red[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{background-color:#c62232}.content-theme.theme-green[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#208637}.content-theme.theme-green[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#208637}.content-theme.theme-green[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{background-color:#208637}.content-theme.theme-blue[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#025bdf}.content-theme.theme-blue[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#025bdf}.content-theme.theme-blue[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{background-color:#025bdf}.content-theme.theme-purple[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:purple}.content-theme.theme-purple[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:purple}.content-theme.theme-purple[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{background-color:purple}.content-theme.theme-orange[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#e76b03}.content-theme.theme-orange[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e76b03}.content-theme.theme-orange[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{background-color:#e76b03}"]}),n})()},{path:":id",component:I}];let y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(L),g.Bz]}),n})();class Z{constructor(){this.change=new t.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(i){return null==i.id&&(i.id=this.DEFAULT_ID),this.instances[i.id]?this.updateInstance(i):(this.instances[i.id]=i,!0)}updateInstance(i){let e=!1;for(let a in this.instances[i.id])i[a]!==this.instances[i.id][a]&&(this.instances[i.id][a]=i[a],e=!0);return e}getCurrentPage(i){return this.instances[i]?this.instances[i].currentPage:1}setCurrentPage(i,e){if(this.instances[i]){let a=this.instances[i];e<=Math.ceil(a.totalItems/a.itemsPerPage)&&1<=e&&(this.instances[i].currentPage=e,this.change.emit(i))}}setTotalItems(i,e){this.instances[i]&&0<=e&&(this.instances[i].totalItems=e,this.change.emit(i))}setItemsPerPage(i,e){this.instances[i]&&(this.instances[i].itemsPerPage=e,this.change.emit(i))}getInstance(i=this.DEFAULT_ID){return this.instances[i]?this.clone(this.instances[i]):{}}clone(i){var e={};for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a]);return e}}let z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Z],imports:[[p.ez]]}),n})(),U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,y,M.q,g.Bz,z,T.m,g.Bz]}),n})()}}]);